CXX_STD = CXX11
PKG_LIBS = $(LAPACK_LIBS) $(BLAS_LIBS) $(FLIBS)

# Default make file
PKG_CPPFLAGS = \
 -I. \
 -Igeneral\
 -Ipedigree\
 -Isim\
 -Isim/poptype

# Include all C++ files in src/ and its subdirectories
PKG_SOURCES = \
        calcIBD.cpp\
		simQTL.cpp\
        RcppExports.cpp\
        general/HMMalgo.cpp\
        general/InhVector.cpp\
        general/ibdexcept.cpp\
        general/misc.cpp\
        general/OrdGeno.cpp\
        general/TransMatSym2D.cpp\
        general/util_genetics.cpp\
		general/matvec.cpp\
		general/dir.cpp\
        pedigree/analysis_fam.cpp\
        pedigree/crosses.cpp\
        pedigree/Loc.cpp\
        pedigree/mainR.cpp\
        pedigree/markerscore.cpp\
        pedigree/popt.cpp\
        pedigree/read_map.cpp\
		sim/GenoValue.cpp\
		sim/input.cpp\
		sim/MarkerType.cpp\
		sim/output.cpp\
		sim/PopName.cpp\
		sim/Sim.cpp\
		sim/SimPop.cpp\
		sim/Genome.cpp\
		sim/Genotype.cpp\
		sim/Chromosome.cpp\
		sim/ChromosomePair.cpp\
		sim/CommandFile.cpp\
		sim/ObsGeno.cpp\
		sim/poptype/mapqtl.cpp\
		sim/poptype/BCpop.cpp\
		sim/poptype/calcRILexact.cpp\
		sim/poptype/DHpop.cpp\
		sim/poptype/F2pop.cpp\
		sim/poptype/GenoProb.cpp\
		sim/poptype/HANSpop.cpp\
		sim/poptype/PIONpop.cpp\
		sim/poptype/poptype.cpp\
		sim/poptype/RILpop.cpp\
		sim/poptype/simul.cpp


# Obtain the object files
OBJECTS = $(PKG_SOURCES:.cpp=.o)

# Make the shared object
all: clean $(SHLIB)

# Provide recipe to remove all objects
clean:
	rm -f $(OBJECTS)
